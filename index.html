<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ðŸŽ„ 3D Christmas AR 2026</title>

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>

    <style>
        body { margin: 0; overflow: hidden; background: transparent; }
        
        /* Loading Screen / Start Button */
        #start-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        button {
            padding: 15px 30px; border-radius: 30px; border: none;
            background: #FFD700; color: #000; font-weight: bold; font-size: 1.2rem;
            cursor: pointer; box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        .instructions {
            position: absolute; bottom: 5%; width: 100%; text-align: center;
            color: white; font-family: sans-serif; pointer-events: none; text-shadow: 1px 1px 2px black;
        }
    </style>
</head>

<body>

    <div id="start-screen">
        <h1 style="color:white; font-family:sans-serif;">AR CHRISTMAS</h1>
        <button onclick="document.getElementById('start-screen').style.display='none'">START PARTY</button>
    </div>

    <div class="instructions">Scan HIRO Marker</div>

    <a-scene 
        embedded 
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
        renderer="colorManagement: true; physicalLights: true;"
        vr-mode-ui="enabled: false">

        <a-assets>
            <a-asset-item id="tree-model" src="https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/tree-spruce/model.gltf"></a-asset-item>
        </a-assets>

        <a-marker preset="hiro" smooth="true" smoothCount="5" smoothTolerance="0.01" smoothThreshold="2">

            <a-entity rotation="-90 0 0">
                
                <a-entity light="type: ambient; color: #BBB; intensity: 0.5"></a-entity>
                <a-entity light="type: directional; color: #FFF; intensity: 1.2; castShadow: true" position="-1 3 2"></a-entity>
                <a-entity light="type: point; color: #ffcc00; intensity: 2; distance: 4" position="0 1 1"></a-entity>

                <a-entity gltf-model="#tree-model" scale="4 4 4" position="0 0 0" shadow="receive: true">
                    
                    <a-dodecahedron color="#FFD700" radius="0.08" position="0 1.6 0" 
                        material="emissive: #ffaa00; emissiveIntensity: 0.5; metalness: 1; roughness: 0">
                        <a-animation attribute="rotation" to="0 360 0" dur="3000" repeat="indefinite" easing="linear"></a-animation>
                    </a-dodecahedron>

                    <a-sphere color="#ff0000" radius="0.05" position="0.2 0.5 0.2" material="metalness: 0.8; roughness: 0.1"></a-sphere>
                    <a-sphere color="#ffD700" radius="0.04" position="-0.2 0.8 0.1" material="metalness: 0.8; roughness: 0.1"></a-sphere>
                    <a-sphere color="#ff0000" radius="0.04" position="0 1.1 -0.1" material="metalness: 0.8; roughness: 0.1"></a-sphere>
                    <a-sphere color="#ff0055" radius="0.05" position="-0.1 0.4 -0.2" material="metalness: 0.8; roughness: 0.1"></a-sphere>
                    <a-sphere color="#00ffaa" radius="0.04" position="0.15 0.9 -0.1" material="metalness: 0.8; roughness: 0.1"></a-sphere>

                </a-entity>

                <a-text value="2026" align="center" position="0 0.5 1.2" scale="2 2 2" color="#ffd700"
                    animation="property: position; to: 0 0.6 1.2; dir: alternate; dur: 1500; loop: true">
                </a-text>

                <a-entity position="0 2 -1"
                    particle-system="
                        preset: default; 
                        particleCount: 500; 
                        texture: https://cdn.rawgit.com/ideaspacevr/aframe-particle-system-component/master/dist/images/star2.png;
                        color: #FF0000, #FFFF00, #00FF00; 
                        size: 0.5; 
                        maxAge: 1.5;
                        velocityValue: 0 5 0; 
                        velocitySpread: 2 1 2; 
                        accelerationValue: 0 -5 0;">
                </a-entity>

            </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

</body>
</html>
